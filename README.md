# 杀戮尖塔 爱丽丝 Mod

本仓库是一个 [**杀戮尖塔**](https://store.steampowered.com/app/646570/Slay_the_Spire/) 模组，
添加了一名新的可选角色 [**爱丽丝·玛格特罗伊德**](https://zh.moegirl.org.cn/%E7%88%B1%E4%B8%BD%E4%B8%9D%C2%B7%E7%8E%9B%E6%A0%BC%E7%89%B9%E7%BD%97%E4%BE%9D%E5%BE%B7/)。

爱丽丝是居住在魔法之森的魔法使，拥有操控人偶程度的能力。

## 依赖模组

- [ModTheSpire](https://github.com/kiooeht/ModTheSpire) ：杀戮尖塔 Mod 加载器
- [BaseMod](https://github.com/daviscook477/BaseMod) ：一个 API Mod，同时也提供了游戏内调试用命令行
- [StSLib](https://github.com/kiooeht/StSLib) ：一个供其他 Mod 使用的关键词和机制的集合

### 可选依赖

- 魔理沙

## 新机制

### 人偶

爱丽丝可以操控 **人偶**，**人偶** 们会帮助爱丽丝进行战斗，提供各种功能。

爱丽丝拥有七个 **人偶** 栏位。从最右侧的栏位开始，每个栏位的 **人偶** 可以为爱丽丝承受一名敌人的攻击伤害，溢出的伤害仍由爱丽丝承受。

**人偶** 造成的伤害受目标的 **易伤** 等效果影响，但不受爱丽丝的 **虚弱** 等效果影响。
类似地，**人偶** 的格挡也不受爱丽丝的 **脆弱** 或 **无法获得格挡** 等效果影响。

未破坏 **人偶** 时，敌人攻击的附加效果无法对爱丽丝生效。

- **生成**：人偶优先生成在最右侧的空栏位。
  - 如果没有空栏位，则会 **回收** 最左侧 **人偶**，并使其他 **人偶** 向左移动一格。
- **行动**：使 **人偶** 发动特定效果。
  - **回收**：移除 **人偶**，并可以触发一些特效。
- **指令**：爱丽丝的（一部分）攻击牌和技能牌可以指向 **人偶** 或 **人偶** 栏位打出。
  - 此时会以该 **人偶** 为目标触发 **生成**、**行动**、**回收** 或获得格挡效果，其它效果仍然会对爱丽丝生效。
  - 需要指定敌人的效果会变为对随机敌人生效。

爱丽丝总共有 7 种 **人偶**。括号内的数值表示人偶的生命值。

（七色的人偶使有七种人偶很合理吧！）

- **上海** - 基础人偶 - 进攻 (3)
  - **被动** - 新月：每回合开始时，该 **人偶** 的 **行动** 伤害提高 2 点。**上海人偶** 的伤害可以享受 **力量** 加成。
  - **行动**：对生命值最低的敌人造成 4 点伤害。
- **蓬莱** - 基础人偶 - 支援 (2)
  - **被动** - 群山：每有一个 **蓬莱人偶**，新 **生成** 的 **人偶** 的生命值就提高 1 倍。
  - **行动**：获得 3 点格挡，然后重新分配所有 **人偶** 的格挡，优先级为：即将收到未被格挡的伤害的 **人偶** > 爱丽丝 > 其它 **人偶**。
- **京都** - 基础人偶 - 进攻 (6)
  - **被动** - 落英：你的回合结束时，恢复一半的已损失生命值。
  - **行动**：对所有敌人造成等同于当前生命值一半的伤害。
- **荷兰** - 强化人偶 - 支援 (3)
  - **被动** - 罗盘：**生成** 时自动 **行动** 2 次。失去这个 **人偶** 时，也会失去它提供的全部 **力量** 与 **敏捷**。**生成** 其它 **荷兰人偶** 时，取消本次 **生成**，改为使本 **人偶** **行动** 2 次。
  - **行动**：爱丽丝交替获得 1 点 **力量** 或 **敏捷**。
- **法兰西** - 强化人偶 - 防御 (5)
  - **被动** - 传承：回合开始时，获得爱丽丝失去的所有格挡。
  - **行动**：前往一个无法完全格挡攻击伤害的位置。如果没有移动位置，则获得 5 点格挡。
- **伦敦** - 强化人偶 - 策略 (1)
  - **被动** - 齿轮：**生成**、**回收** 或被破坏时，将自身的格挡分配给相邻 **人偶**，并使它们各 **行动** 一次。
  - **行动**：与最右侧的 **人偶** 交换位置和格挡。如果没有移动位置，则 **回收** 自身。
- **奥尔良** - 强化人偶 - 支援 (4)
  - **被动** - 星砂：被 **回收** 时，为爱丽丝提供 2 点能量。
  - **行动**：抽一张牌。

### 其他关键词

- **发现**：从三张牌中选择一张，将其加入手牌（如无特殊说明）。
- **临时生命**：一种不会在回合开始时减少的格挡。详见 [StSLib](https://github.com/kiooeht/StSLib)。

## 致谢
  - Thanks to the [Marisa Mod](https://github.com/lf201014/STS_ThMod_MRS), which teaches me how to develop a mod of STS.
